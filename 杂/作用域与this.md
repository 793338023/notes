## 作用域

我们把作用域查找变量的链条称为作用域链，而作用域链是由词法作用域决定的，而词法作用域反映了代码的结构

词法作用域就是指作用域是由函数声明的位置所决定的，所以是静态作用域，我们可以根据这个预测代码执行是如何查找标识符。

当内部函数访问着外部函数的变量，而这些变量的集合就是闭包，而当我们执行外部函数，并且执行完毕后销毁，而我们把内部函数返回到外面使用，当我们使用时还是能访问到外部函数的变量，因为内部函数使用外部函数的变量，让其保存再内存中，而这些变量的集合就是闭包

而闭包是如何被垃圾回收的呢？当垃圾回收发现闭包没有被使用时就会回收，就好比多次调用外部函数返回内部函数赋值给一个变量，那么只会保存最新的一次，之前形成闭包的都会被垃圾回收

hook 的闭包陷阱这样的问题，由于我们监听状态对组件传递函数，而当前函数获取到组件(即外部函数)的状态(变量)，由于我们组件已经更新多次，而状态发生了改变，而没有对外传递最新的函数，所以其他组件使用它获取组件的状态都是旧状态，这就是闭包陷阱，而想组件获取到最新状态，即状态发生变化后都对外传递最新的函数

## this

当函数作为对象的方法调用时函数的 this 指向该对象

call apply bind
new

嵌套函数的 this 不会继承，内部的函数的 this 指向全局
